<View>
  <!-- Time Series Data Display -->
  <TimeSeriesLabels name="label" toName="ts">
    <!-- Criterios de Calidad de Entrada -->
    <Label value="FAVORABLE_SQUEEZE_OFF" background="#27AE60"/>
    <Label value="FAVORABLE_EMA_ALINEACION" background="#2ECC71"/>
    <Label value="FAVORABLE_VOLUMEN_CONFIRMACION" background="#3498DB"/>
    <Label value="FAVORABLE_RSI_ZONA" background="#9B59B6"/>
    <Label value="FAVORABLE_ADX_FUERTE" background="#F1C40F"/>

    <!-- Criterios Desfavorables -->
    <Label value="DESFAVORABLE_RUPTURA_FALSA" background="#E74C3C"/>
    <Label value="DESFAVORABLE_VOLATILIDAD_EXCESIVA" background="#C0392B"/>
    <Label value="DESFAVORABLE_CONFLICTO_TEMPORALIDADES" background="#D35400"/>

    <!-- Relaciones entre Temporalidades -->
    <Label value="ALINEACION_4H_1H_ALCISTA" background="#16A085"/>
    <Label value="ALINEACION_4H_1H_BAJISTA" background="#8E44AD"/>
    <Label value="DIVERGENCIA_4H_1H_POSITIVA" background="#2980B9"/>
    <Label value="DIVERGENCIA_4H_1H_NEGATIVA" background="#E67E22"/>

    <!-- Confirmaciones de Mayor Temporalidad -->
    <Label value="CONFIRMACION_TENDENCIA_4H" background="#2ECC71"/>
    <Label value="CONTRATENDENCIA_4H" background="#E74C3C"/>

    <!-- Niveles Clave Multitemporales -->
    <Label value="SOPORTE_4H_RESPETADO_1H" background="#16A085"/>
    <Label value="RESISTENCIA_4H_RESPETADA_1H" background="#8E44AD"/>
    <Label value="RUPTURA_SOPORTE_4H_1H" background="#C0392B"/>
    <Label value="RUPTURA_RESISTENCIA_4H_1H" background="#2980B9"/>
  </TimeSeriesLabels>

  <!-- Time Series Data Source -->
  <TimeSeries name="ts" value="$csv" valueType="url" timeColumn="date" timeFormat="%Y-%m-%d %H:%M:%S" overviewChannels="open,high,low,close">
    <Channel column="open" strokeColor="#1f77b4"/>
    <Channel column="high" strokeColor="#ff7f0e"/>
    <Channel column="low" strokeColor="#2ca02c"/>
    <Channel column="close" strokeColor="#d62728"/>
    <Channel column="volume" strokeColor="#9467bd" optional="true"/>
    <Channel column="ema10" strokeColor="#17becf" optional="true"/>
    <Channel column="ema55" strokeColor="#bcbd22" optional="true"/>
    <Channel column="ema200" strokeColor="#8c564b" optional="true"/>
    <Channel column="smi" strokeColor="#7f7f7f" optional="true"/>
    <Channel column="adx" strokeColor="#e377c2" optional="true"/>
    <Channel column="atr" strokeColor="#9467bd" optional="true"/>
  </TimeSeries>

  <!-- Pattern Description Panel -->
  <View style="padding: 20px; background: #f8f9fa; border-radius: 5px; margin-top: 10px;">
    <Header value="Sistema Multitemporal - Criterios de Calidad"/>
    
    <View style="display: flex; flex-wrap: wrap; gap: 10px;">
      <View style="flex: 1; min-width: 200px;">
        <Header value="Criterios Favorables" size="4"/>
        <Text name="favorable_guide" value="
• **SQUEEZE_OFF**: Squeeze se libera con momentum
• **EMA_ALINEACION**: EMAs alineados con tendencia
• **VOLUMEN_CONFIRMACION**: Volumen confirma movimiento
• **RSI_ZONA**: RSI en zona favorable (30-70)
• **ADX_FUERTE**: ADX > 25 (tendencia fuerte)
        "/>
      </View>
      
      <View style="flex: 1; min-width: 200px;">
        <Header value="Relaciones Temporales" size="4"/>
        <Text name="temporal_guide" value="
• **ALINEACION_4H_1H**: Ambas temporalidades alineadas
• **DIVERGENCIA**: Temporalidades en conflicto
• **CONFIRMACION_4H**: 1H confirma tendencia 4H
• **SOPORTE/RESISTENCIA**: Niveles respetados
        "/>
      </View>
      
      <View style="flex: 1; min-width: 200px;">
        <Header value="Criterios Desfavorables" size="4"/>
        <Text name="unfavorable_guide" value="
• **RUPTURA_FALSA**: Rompimiento sin seguimiento
• **VOLATILIDAD_EXCESIVA**: Mercado muy volátil
• **CONFLICTO_TEMPORAL**: Temporalidades en desacuerdo
        "/>
      </View>
    </View>
  </View>
</View>